import { Head } from "mdx-deck"
import { Invert } from "mdx-deck/layouts"

import syntaxTheme from "prism-react-renderer/themes/oceanicNext"
export { default as theme } from "./theme"
import { CodeSurfer } from "mdx-deck-code-surfer"

import Inspiration from "./components/Inspiration.js"

import Translator from "./components/enterUpdateDeleteMsg.js"
import StripeMenu from "./components/StripeMenu"
import FLIPBasicExample from "./components/FLIPBasicExample"
import ReactFlipToolkitBasicExample from "./components/ReactFlipToolkitBasicExample"
import AnimatedListNoAnimation from "./components/AnimatedList/NoAnimation.js"
import AnimatedList from "./components/AnimatedList/FinalAnimation.js"
import FirstAidKitExample from "./components/FirstAidKitExample"

import "./injectGlobalCSS"

<Head>
  <title>Presentation Title</title>
</Head>

# Hello

---

<Translator
  firstMsg="This talk is going to change the way you do front end development, and, quite possibly, your life"
  secondMsg="If you're interested in UI animation, you will, I hope, find this talk to be at least mildly informative (but I won't be offended if not)"
/>

---

## Layout animations vs Data Visualization: Differences

Rather than attention grabbing, they should make the interaction feel more natural

```notes
We're not talking about novelty transitions for agency websites (which are very cool), but the more subtle meaningful
transitions for apps
```

---

# Problem: page transitions

---

export default Invert

<FirstAidKitExample />

<Inspiration>
  <a href="https://dribbble.com/shots/3768507--First-Aid-Kit">
    Inspired by this Dribbble shot
  </a>
</Inspiration>

---

# Why layout animation is hard

1. Encapsulation:

We write components that are supposed to be separate, but good layout animations almost always involve close coordination between parent and child components

2. Declarative nature of virtual dom

Exit animations: Once we remove an element, it's gone instantaneously, we need to use some workarounds to keep it around so we can animate it out
Update animations: As long as we can't control how the

---

# Problem: Coordinated page transitions

react-pose

---

# Problem: component transitions

---

# FLIP Technique

---

## <FLIPBasicExample noAnimation />

---

<CodeSurfer
  theme={syntaxTheme}
  code={require("!raw-loader!./components/FLIPBasicExample")}
  steps={[
    {
      range: [31, 42],
      notes: () => (
        <span>
          {" "}
          We're going to use FLIP to transition between these two components
        </span>
      )
    },
    {
      range: [72, 85],
      notes: () => (
        <span>
          Here's the render method of the component, we just need to add
          transitions
        </span>
      )
    },
    {
      range: [47, 53],
      notes: () => (
        <span>
          {" "}
          <b>First:</b> Cache the dimensions of the element right before changes
          are applied
        </span>
      )
    },
    {
      range: [54, 71],
      notes: () => (
        <span>
          {" "}
          Immediately after changes are applied and before they are rendered,
          manually undo them
        </span>
      )
    },
    {
      range: [57, 58],
      notes: () => (
        <span>
          {" "}
          <b>Last:</b> Get the new dimensions of the element
        </span>
      )
    },
    {
      range: [59, 63],
      notes: () => (
        <span>
          {" "}
          <b>Invert:</b> Figure out how much we're going to have to move and scale
          the element to undo the changes
        </span>
      )
    },
    {
      range: [64, 70],
      notes: () => (
        <span>
          {" "}
          <b>Play:</b> Immediately apply the inverted styles, then transform the
          element to its new position and size{" "}
        </span>
      )
    }
  ]}
/>

---

## <FLIPBasicExample />

---

<CodeSurfer
  notes="React-Flip-Toolkit Example"
  theme={syntaxTheme}
  code={require("!raw-loader!./components/ReactFlipToolkitBasicExample")}
  steps={[
    { range: [44, 67], notes: ()=> <span>with <code>React-FLip-Toolkit</code></span>},
    { lines: [45, 65], notes: ()=> <span><code>Flipper</code></span>},
    { lines: [46, 64], notes: ()=> <span><code>Flipped</code></span>},
    { lines: [49, 53,  57, 61], notes: ()=> <span> <code>Flipped</code> with <code>inverseFlipId</code></span>}
  ]}
/>
---
<ReactFlipToolkitBasicExample />
---
Advantages of react flip toolkit:
1. Aware of DOM context. Can counteract nested scale transforms
2. Easy, natural staggers
3. Nested staggers
4. Flexibility

---

# Separation of components

---

<StripeMenu noAnimation />

<Inspiration>
  <a href="https://stripe.com/">Inspired by Stripe's homepage</a>
</Inspiration>

---

<StripeMenu />

<Inspiration>
  <a href="https://stripe.com/">Inspired by Stripe's homepage</a>
</Inspiration>

---

# Staggering transitions

---

<AnimatedListNoAnimation />

<Inspiration dark>
  <a href="https://uxplanet.org/animation-in-ui-design-from-concept-to-reality-85c49907b19d">
    Inspired by an animation from this article
  </a>
</Inspiration>

---

<AnimatedList />

<Inspiration dark>
  <a href="https://uxplanet.org/animation-in-ui-design-from-concept-to-reality-85c49907b19d">
    Inspired by an animation from this article
  </a>
</Inspiration>

---

With great power comes etc etc

Some Advice:
Team up with a designer
or if that's not possible..

---

# Read these great articles on UI Animation Design

1. [Creating Usability With Motion](https://medium.com/ux-in-motion/creating-usability-with-motion-the-ux-in-motion-manifesto-a87a4584ddc)
2. [Material Design: Understanding Motion](https://material.io/design/motion/)

---

# Credits

1. The list animation demos were inspired by this article, ["Animation in UI Design"](https://uxplanet.org/animation-in-ui-design-from-concept-to-reality-85c49907b19d)
2. Route transition animation demo inspired by [this dribble shot](https://dribbble.com/shots/1733691-Animated-User-Profile-Widget-Ui-Webterial)

---
